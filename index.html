<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
    <script src="dist/gallery/seajs/2.3.0/sea.js"></script>
    <script src="dist/gallery/zepto/1.1.4/zepto.js"></script>
    <script>
        seajs.config({
            base: './dist/',
            alias: {
                'zepto': 'gallery/zepto/1.1.4/zepto'
            },
            map: [
//                ['.js', '.debug.js']
            ]
        })
    </script>
</head>
<body>
    <script>
        seajs.use([
            'gallery/zepto/1.1.4/zepto',
            'gallery/fastclick/1.0.3/fastclick',
            'gallery/hammer/2.0.4/hammer',
            'gallery/iscroll/5.1.3/iscroll',
            'gallery/iscroll/5.1.3/iscroll-lite',
            'gallery/swipe/2.0.0/swipe',
            'gallery/underscore/1.7.0/underscore',
            'gallery/juicer/0.6.5/juicer'
        ], function($, FastClick, Hammer, iScroll, iScrollLite, Swipe, _, Juicer) {
            _.forEach(document.querySelectorAll('script'), function(script) {
                console.log(script)
            })

            var dfd = $.Deferred(function(deferred) {
                var sg = 1
                setTimeout(function() {
                    if(sg) {
                        deferred.resolve(sg)
                    } else {
                        deferred.reject(sg)
                    }
                }, 1000)
            })

            dfd.then(function(result) {
                console.log('then a', result)
                return result + 1
            }).then(function(result) {
                console.log('then b', result)
                return result + 1
            }).done(function(result) {
                console.log('done', arguments)
            }).fail(function(result) {
                console.log('fail', result)
            })
        })
    </script>
</body>
</html>